{% extends 'base.html' %}

{% block head %}
<title>Crawler State in Real Time</title>
{% endblock %}

{% block body %}

<div class="container">

    <div class="row">
        Vocabolary Keywords:
        {% if crawler.vocabolary.keywords|length > 0 %}
        <div>
            {% for keyword in crawler.vocabolary.keywords %}
            {{keyword}} |
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div class="row">
        Output tweets:
        {% if crawler.output_tweets|length > 0 %}
        <div>
            {% for tweet in rawler.output_tweets %}
            <div>
                <strong>Text: </strong>
                {{tweet.text}}
            </div>
            <div>
                <strong>Id: </strong>
                {{tweet.id}}
            </div>
            <div>
                <strong>author: </strong>
                {{tweet.author}}
            </div>

            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
{% if crawler.is_crawling %}
<script>

    $(document).ready(function () {
        setInterval(() => {
            location.reload()
        }, 3000);
    });
</script>
{% endif %}
{% endblock %}